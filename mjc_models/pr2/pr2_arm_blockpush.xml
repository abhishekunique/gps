<!-- ======================================================
    This file is part of MuJoCo.
    Copyright 2009-2016 Roboti LLC.

    Model         :: PR2-Arm from Willow Garage
        Source        : (Provided by Sergey Levine, UC Berkeley)
        Downloaded    : 18July'14

    Mujoco        :: Advanced physics simulation engine
        Source        : www.roboti.us
        Version        : 1.31
        Released     : 23Apr16

    Author        :: Vikash Kumar
        Contacts     : kumar@roboti.us
        Last edits     : 30Apr16, 10Oct'15, 26July'15
====================================================== -->
<mujoco model="PR2-Arm(v1.31)">
  <compiler coordinate="local" angle="radian" inertiafromgeom="true" meshdir="Meshes/"/>
  <option timestep="0.005" gravity="0 0 0" iterations='20' integrator="RK4"/>

  <asset>
    <mesh file="shoulder_pan.stl"/>
    <mesh file="shoulder_lift.stl"/>
    <mesh file="upper_arm_roll.stl"/>
    <mesh file="upper_arm.stl"/>
    <mesh file="elbow_flex.stl"/>
    <mesh file="forearm_roll.stl"/>
    <mesh file="forearm.stl"/>
    <mesh file="wrist_flex.stl"/>
    <mesh file="forearm.stl"/>
    <mesh file="wrist_roll.stl"/>
    <mesh file="gripper_palm.stl"/>
    <mesh file="l_finger.stl"/>
    <mesh file="l_finger_tip.stl"/>
    <material name="MatGnd" specular=".3" shininess=".3" reflectance="0.3" rgba=".5 .55 .5 1"/>
  </asset>

  <default>
    <joint limited="true" range="-3.14159 3.14159" damping="0.2" armature=".01"/>
    <geom friction=".5 .1 .1" margin="0.002" contype="1" conaffinity="0" type="mesh"/>
    <motor forcelimited="true" forcerange="-5 5"/>
  </default>

  <worldbody>
    <light directional="true" cutoff="4" exponent="20" diffuse="1 1 1" specular="0 0 0" pos=".5 0.75 1.5" dir="-.5 -0.75 -1.5"/>

    <body name="r_shoulder_pan_link" pos="0 0.2 0" zaxis="0 1 0">
      <inertial pos="-0.001201 0.024513 -0.098231" quat="0.927482 -0.0876561 0.0740595 -0.355821" mass="25.7993" diaginertia="0.934201 0.837701 0.242033" />
      <joint name="r_shoulder_pan_joint" type="hinge" pos="0 0 0" axis="0 0 1" />
      <geom rgba="0 0 0.8 1" mesh="shoulder_pan"/>

      <body name="r_shoulder_lift_link" pos="0.1 0 0">
        <inertial pos="0.02195 -0.02664 -0.03127" quat="0.791779 0.478014 0.238985 0.295762" mass="2.74988" diaginertia="0.0261874 0.0207302 0.0151681" />
        <joint name="r_shoulder_lift_joint" type="hinge" pos="0 0 0" axis="0 1 0" />
        <geom rgba="0.7 0.7 0.7 1" mesh="shoulder_lift"/>

        <body name="r_upper_arm_roll_link" pos="0 0 0">
          <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01" />
          <joint name="r_upper_arm_roll_joint" type="hinge" pos="0 0 0" axis="1 0 0" />
          <geom mesh="upper_arm_roll"/>

          <body name="r_upper_arm_link" pos="0 0 0">
            <inertial pos="0.21398 -0.01621 -0.0002" quat="-0.0450196 0.697462 -0.088537 0.709705" mass="6.01769" diaginertia="0.0761385 0.0749307 0.0151327" />
            <geom rgba="0 0.8 0 1" mesh="upper_arm"/>

            <body name="r_elbow_flex_link" pos="0.4 0 0">
              <inertial pos="0.01014 0.00032 -0.01211" quat="0.308784 0.646797 0.639077 0.279083" mass="1.90327" diaginertia="0.00441852 0.00396477 0.00308977" />
              <joint name="r_elbow_flex_joint" type="hinge" pos="0 0 0" axis="0 1 0" />
              <geom rgba="0.7 0.7 0.7 1" mesh="elbow_flex"/>

              <body name="r_forearm_roll_link" pos="0 0 0">
                <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01" />
                <joint name="r_forearm_roll_joint" type="hinge" limited="true" pos="0 0 0" axis="1 0 0" />
                <geom mesh="forearm_roll"/>

                <body name="r_forearm_link" pos="0 0 0">
                  <inertial pos="0.18791 -0.00017 -0.00912" quat="-0.000586594 0.726286 -0.00396869 0.687381" mass="2.57968" diaginertia="0.0166326 0.0150775 0.00360892" />
                  <geom rgba="0.7 0.7 0.7 1" mesh="forearm"/>

                  <body name="r_wrist_flex_link" pos="0.321 0 0">
                    <inertial pos="-0.00157 0 -0.00075" quat="0.695976 0.696411 -0.12356 0.123942" mass="0.61402" diaginertia="0.000652771 0.000643391 0.000198244" />
                    <joint name="r_wrist_flex_joint" type="hinge" pos="0 0 0" axis="0 1 0" />
                    <geom rgba="0.7 0.7 0.7 1" mesh="wrist_flex"/>

                    <body name="r_wrist_roll_link" pos="0 0 0">
                      <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01" />
                      <joint name="r_wrist_roll_joint" type="hinge" pos="0 0 0" limited="true" axis="1 0 0" />
                      <geom mesh="wrist_roll"/>

                      <body name="r_gripper_palm_link" pos="0 0 0">
                        <inertial pos="0.06623 0.00053 -0.00119" quat="-0.0181842 0.706274 0.0160771 0.707523" mass="0.58007" diaginertia="0.000865637 0.000678178 0.000351471" />
                        <!-- <geom rgba="0.8 0 0 1" mesh="gripper_palm"/> -->
                        <geom type="box" pos="0 0 -0.225" size=" 0.01 0.04 0.20" contype="1" conaffinity="1" density="0.0001" />

                        <body name="r_gripper_motor_accelerometer_link" pos="0 0 0">
                          <inertial pos="0 0 0" mass="0.001" diaginertia="0.001 0.001 0.001" />
                          <!-- <geom type="box" size="0.0005 0.0005 0.0005" pos="0 0 0" /> -->
                        </body>
                        <site name="End of arm" pos="0 0 -0.35" size="0.01" />
                      </body>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
    <body name="object" pos="1.3 0.0 0.0">
        <geom rgba="1. 1. 1. 1" type="sphere" size="0.05" density='0.00001' contype="1" conaffinity="1"/>
        <joint name="obj_slidez" type="slide" pos="0.1 0.05 0.05" axis="0 0 1" range="-10.3213 10.3" damping="0.5"/>
        <joint name="obj_slidex" type="slide" pos="0.05 0.05 0.05" axis="1 0 0" range="-10.3213 10.3" damping="0.5"/>
        <!--            <joint name="obj_hinge" type="hinge" pos="0.1 0.05 0.05" axis="0 1 0" range="-10.3213 10.3" damping="0.1"/>-->
        <body name="distal_10" pos="0 0 0">
            <site name="obj_pos" pos="0.025 -0.025 0.025" size="0.01" />
        </body>
    </body>

    <body name="goal" pos="0 0 0">
        <geom rgba="1 0 0 1" type="box" size="0.02 0.02 0.02" density='0.00001' contype="0" conaffinity="0"/>
    </body>

    <body name="distractor_1" pos="0 0 0">
        <geom rgba="1 1 0 1" type="box" size="0.02 0.02 0.02" density='0.00001' contype="0" conaffinity="0"/>
    </body>

    <body name="distractor_2" pos="0 0 0">
        <geom rgba="0 1 0 1" type="box" size="0.02 0.02 0.02" density='0.00001' contype="0" conaffinity="0"/>
    </body>
  </worldbody>

  <actuator>
    <motor joint="r_shoulder_pan_joint" name="Ar_shoulder_pan_joint"/>
    <motor joint="r_shoulder_lift_joint" name="Ar_shoulder_lift_joint"/>
    <motor joint="r_upper_arm_roll_joint" name="Ar_upper_arm_roll_joint"/>
    <motor joint="r_elbow_flex_joint" name="Ar_elbow_flex_joint"/>
    <motor joint="r_forearm_roll_joint" name="Ar_forearm_roll_joint"/>
    <motor joint="r_wrist_flex_joint" name="Ar_wrist_flex_joint"/>
    <motor joint="r_wrist_roll_joint" name="Ar_wrist_roll_joint"/>
    </actuator>
</mujoco>
